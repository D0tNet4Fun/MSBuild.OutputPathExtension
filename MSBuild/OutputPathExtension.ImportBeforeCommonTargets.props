<!--
***********************************************************************************************
OutputPathExtension.ImportBeforeCommonTargets.props

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

***********************************************************************************************
-->

<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!--override the default MSBuild properties if $(RootOutputPath) exists -->
  <PropertyGroup Condition="'$(_RootOutputPathExists)' == 'true'">

    <!-- override intermediate output path -->
    <IntermediateOutputPath Condition="'$(IntermediateOutputPath)' != '' AND !$([System.IO.Path]::IsPathRooted('$(IntermediateOutputPath)'))">$(ProjectRootOutputPath)$(IntermediateOutputPath)</IntermediateOutputPath>

    <!-- override final output paths -->
    <BaseOutputPath Condition="'$(BaseOutputPath)' != '' AND !$([System.IO.Path]::IsPathRooted('$(BaseOutputPath)'))">$(ProjectRootOutputPath)$(BaseOutputPath)</BaseOutputPath>
    <OutputPath Condition="'$(OutputPath)' != '' AND !$([System.IO.Path]::IsPathRooted('$(OutputPath)'))">$(ProjectRootOutputPath)$(OutputPath)</OutputPath>

    <!-- override output path for NuGet packages -->
    <PackageOutputPath Condition=" '$(PackageOutputPath)' != ''AND !$([System.IO.Path]::IsPathRooted('$(PackageOutputPath)'))">$(ProjectRootOutputPath)$(PackageOutputPath)</PackageOutputPath>

  </PropertyGroup>

</Project>